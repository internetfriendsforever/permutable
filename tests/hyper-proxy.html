<body>
  <script src="https://unpkg.com/hyperhtml@latest/min.js"></script>
  <script>
    const { bind, wire } = hyperHTML

    const internal = {
      count: 0
    }

    const state = new Proxy(internal, {
      set: (obj, prop, value) => {
        obj[prop] = value
        render()
        return true
      }
    })

    const counter = props => wire(props)`
      <button onclick=${props.click}>
        ${props.label}
      </button>
    `

    const decrement = counter({
      label: 'Decrement',
      click: () => state.count--
    })

    const increment = counter({
      label: 'Increment',
      click: () => state.count++
    })

    function render () {
      bind(document.body)`
        <h1>Count: ${state.count}</h1>
        ${decrement}
        ${increment}
      `
    }

    render()
  </script>
</body>
