<script type="module">
  import permutable from '/dist/esm.js'

  permutable({
    params: {
      start: {
        type: 'number',
        min: 0,
        max: Math.PI * 2,
        value: 0
      },
      end: {
        type: 'number',
        min: 0,
        max: Math.PI * 2,
        value: Math.PI / 2 * 3
      }
    },

    setup (canvas) {
      canvas.width = 500
      canvas.height = 500
      canvas.style.width = ''
      canvas.style.height = ''

      const context = canvas.getContext('2d')

      return function render (params) {
        const { width, height } = canvas

        context.fillStyle = 'red'
        context.fillRect(0, 0, width, height)

        context.fillStyle = 'white'
        context.beginPath()
        context.moveTo(250, 250)
        context.arc(250, 250, 250, params.start.value, params.end.value)
        context.fill()

        context.fillStyle = 'black'
        context.beginPath()
        context.moveTo(250, 250)
        context.arc(250, 250, 100, params.start.value, params.end.value)
        context.fill()
      }
    }
  })
</script>
